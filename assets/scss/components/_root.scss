:root {
  --separator: 1px solid var(--separator-color);
}

// Light
@mixin theme-light() {
  --theme-name:               light;
  --theme-icon:               "\f497";
  --theme-lightness:          98%;
  --theme-inverted-lightness: 05%;

  --selection-bg:             hsla(0, 0%, 05%, 0.15);
  --separator-color:          hsla(0, 0%, 20%, 0.15);

  --body-bg:                  hsl(0, 0%, 90%);
  --body-color:               hsl(0, 0%, 20%);
  --body-color-highlight:     hsl(0, 0%, 05%);

  --category-color:           hsl(0, 0%, 95%);

  --input-bg:                 hsl(0, 0%, 97%);
  --input-color:              hsl(0, 0%, 15%);
  --input-border-color:       hsl(0, 0%, 85%);

  --input-focus-bg:           hsl(0, 0%, 99%);
  --input-focus-color:        hsl(0, 0%, 10%);
  --input-focus-border-color:   var(--#{$variable-prefix}primary);
}

// Dark
@mixin theme-dark() {
  --theme-name:               dark;
  --theme-icon:               "\f5a2";
  --theme-lightness:          07%;
  --theme-inverted-lightness: 90%;

  --selection-bg:             hsla(0, 0%, 90%, 0.125);
  --separator-color:          hsla(0, 0%, 90%, 0.10);

  --body-bg:                  hsl(0, 0%, 05%);
  --body-color:               hsl(0, 0%, 60%);
  --body-color-highlight:     hsl(0, 0%, 75%);

  --category-color:           hsl(0, 0%, 05%);

  --input-bg:                 hsl(0, 0%, 09%);
  --input-color:              hsl(0, 0%, 55%);
  --input-border-color:       hsl(0, 0%, 15%);

  --input-focus-bg:           hsl(0, 0%, 10%);
  --input-focus-color:        hsl(0, 0%, 60%);
  --input-focus-border-color: var(--#{$variable-prefix}primary);

  // Bootstrap color modifier.
  @each $color, $value in $colors {
    --#{$variable-prefix}#{$color}: #{darken(desaturate($value, 20%), 10%)};
  }
  @each $color, $value in $theme-colors {
    --#{$variable-prefix}#{$color}: #{darken(desaturate($value, 20%), 10%)};
  }
}

.theme-light {
  @include theme-light();
  .theme-icon {
    &::before {  
      --theme-animation: theme-light;
      --theme-icon:      "\f497";
    }
  }
}

.theme-dark {
  @include theme-dark();
  .theme-icon {
    &::before {      
      --theme-animation: theme-dark;
      --theme-icon:      "\f5a2";
    }
  }
}

.theme-transition {
  *,
  *::before,
  *::after {
    transition: $transition-all-ease !important;
  }
  .theme-icon {
    animation: theme-change 0.35s $transition-speed-ease forwards;
  }
}

.theme-icon {
  &::before {
    content: var(--theme-icon);
  }
}

@each $subject, $color in $subjects {
  .#{$subject} {
    --category-color:   #{$color};
  }
}
